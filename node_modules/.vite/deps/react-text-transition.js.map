{
  "version": 3,
  "sources": ["../../react-text-transition/src/components/TextTransition.tsx", "../../react-text-transition/src/index.ts"],
  "sourcesContent": ["import React, { useState, useRef, useEffect } from 'react';\r\nimport type { CSSProperties, PropsWithChildren } from 'react';\r\n\r\nimport { useSpring, useTransition, animated, config, SpringConfig } from '@react-spring/web';\r\n\r\nexport interface TextTransitionProps {\r\n  className?: string;\r\n  delay?: number;\r\n  direction?: 'up' | 'down';\r\n  inline?: boolean;\r\n  springConfig?: SpringConfig;\r\n  style?: CSSProperties;\r\n  translateValue?: string;\r\n}\r\n\r\nfunction TextTransition(props: PropsWithChildren<TextTransitionProps>) {\r\n  const {\r\n    direction = 'up',\r\n    inline = false,\r\n    springConfig = config.default,\r\n    delay = 0,\r\n    className,\r\n    style,\r\n    translateValue: tv = '100%',\r\n    children,\r\n  } = props;\r\n\r\n  const initialRun = useRef(true);\r\n  const fromTransform = direction === 'down' ? `-${tv}` : tv;\r\n  const leaveTransform = direction === 'down' ? tv : `-${tv}`;\r\n\r\n  const transitions = useTransition([children], {\r\n    enter: { opacity: 1, transform: 'translateY(0%)' },\r\n    from: { opacity: 0, transform: `translateY(${fromTransform})` },\r\n    leave: {\r\n      opacity: 0,\r\n      transform: `translateY(${leaveTransform})`,\r\n      position: 'absolute',\r\n    },\r\n    config: springConfig,\r\n    immediate: initialRun.current,\r\n    delay: !initialRun.current ? delay : undefined,\r\n  });\r\n\r\n  const [width, setWidth] = useState<number>(0);\r\n  const currentRef = useRef<HTMLDivElement>(null);\r\n  const heightRef = useRef<number | string>('auto');\r\n\r\n  useEffect(() => {\r\n    initialRun.current = false;\r\n    const element = currentRef.current;\r\n\r\n    // If element doesn't exist, then do nothing\r\n    if (!element) return;\r\n\r\n    const { width, height } = element.getBoundingClientRect();\r\n\r\n    setWidth(width);\r\n    heightRef.current = height;\r\n  }, [children, setWidth, currentRef]);\r\n\r\n  const widthTransition = useSpring({\r\n    to: { width },\r\n    config: springConfig,\r\n    immediate: initialRun.current,\r\n    delay: !initialRun.current ? delay : undefined,\r\n  });\r\n\r\n  return (\r\n    <animated.div\r\n      className={`text-transition ${className}`}\r\n      style={{\r\n        ...(inline && !initialRun.current ? widthTransition : undefined),\r\n        ...style,\r\n        whiteSpace: inline ? 'nowrap' : 'normal',\r\n        display: inline ? 'inline-flex' : 'flex',\r\n        height: heightRef.current,\r\n      }}\r\n    >\r\n      {transitions((styles, item) => (\r\n        <animated.div\r\n          style={{ ...styles }}\r\n          ref={item === children ? currentRef : undefined}\r\n          children={item}\r\n        />\r\n      ))}\r\n    </animated.div>\r\n  );\r\n}\r\n\r\nexport default TextTransition;\r\n", "import { config } from \"@react-spring/web\";\r\n\r\nimport TextTransition, {\r\n  TextTransitionProps,\r\n} from \"./components/TextTransition\";\r\n\r\nexport { config as presets };\r\nexport type { TextTransitionProps };\r\nexport default TextTransition;\r\n"],
  "mappings": ";;;;;;;;;;;;;;;AAAA,mBAAmD;;;;;;;;;;;;;AAenD,SAAS,eAAe,OAA6C;AAEjE,MAAA,KAQE,MAAK,WARP,YAAS,OAAA,SAAG,OAAI,IAChB,KAOE,MAAK,QAPP,SAAM,OAAA,SAAG,QAAK,IACd,KAME,MAAK,cANP,eAAY,OAAA,SAAG,OAAO,UAAO,IAC7B,KAKE,MAAK,OALP,QAAK,OAAA,SAAG,IAAC,IACT,YAIE,MAAK,WAHP,QAGE,MAAK,OAFP,KAEE,MAAK,gBAFS,KAAE,OAAA,SAAG,SAAM,IAC3B,WACE,MAAK;AAET,MAAM,iBAAa,qBAAO,IAAI;AAC9B,MAAM,gBAAgB,cAAc,SAAS,IAAA,OAAI,EAAE,IAAK;AACxD,MAAM,iBAAiB,cAAc,SAAS,KAAK,IAAA,OAAI,EAAE;AAEzD,MAAM,cAAc,cAAc,CAAC,QAAQ,GAAG;IAC5C,OAAO,EAAE,SAAS,GAAG,WAAW,iBAAgB;IAChD,MAAM,EAAE,SAAS,GAAG,WAAW,cAAA,OAAc,eAAa,GAAA,EAAG;IAC7D,OAAO;MACL,SAAS;MACT,WAAW,cAAA,OAAc,gBAAc,GAAA;MACvC,UAAU;;IAEZ,QAAQ;IACR,WAAW,WAAW;IACtB,OAAO,CAAC,WAAW,UAAU,QAAQ;GACtC;AAEK,MAAA,SAAoB,uBAAiB,CAAC,GAArC,QAAK,GAAA,CAAA,GAAE,WAAQ,GAAA,CAAA;AACtB,MAAM,iBAAa,qBAAuB,IAAI;AAC9C,MAAM,gBAAY,qBAAwB,MAAM;AAEhD,8BAAU,WAAA;AACR,eAAW,UAAU;AACrB,QAAM,UAAU,WAAW;AAG3B,QAAI,CAAC;AAAS;AAER,QAAAA,MAAoB,QAAQ,sBAAqB,GAA/CC,SAAKD,IAAA,OAAE,SAAMA,IAAA;AAErB,aAASC,MAAK;AACd,cAAU,UAAU;EACtB,GAAG,CAAC,UAAU,UAAU,UAAU,CAAC;AAEnC,MAAM,kBAAkB,UAAU;IAChC,IAAI,EAAE,MAAK;IACX,QAAQ;IACR,WAAW,WAAW;IACtB,OAAO,CAAC,WAAW,UAAU,QAAQ;GACtC;AAED,SACE,aAAAC,QAAA,cAAC,SAAS,KAAG,EACX,WAAW,mBAAA,OAAmB,SAAS,GACvC,OAAK,SAAA,SAAA,SAAA,CAAA,GACC,UAAU,CAAC,WAAW,UAAU,kBAAkB,MAAU,GAC7D,KAAK,GAAA,EACR,YAAY,SAAS,WAAW,UAChC,SAAS,SAAS,gBAAgB,QAClC,QAAQ,UAAU,QAAO,CAAA,EAAA,GAG1B,YAAY,SAAC,QAAQ,MAAI;AAAK,WAC7B,aAAAA,QAAA,cAAC,SAAS,KAAG,EACX,OAAK,SAAA,CAAA,GAAO,MAAM,GAClB,KAAK,SAAS,WAAW,aAAa,QACtC,UAAU,KAAI,CAAA;EAJa,CAM9B,CAAC;AAGR;AAEA,IAAA,yBAAe;;;AClFf,IAAA,kBAAe;",
  "names": ["_a", "width", "React"]
}
