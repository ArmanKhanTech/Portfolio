{"version":3,"file":"GodRays.js","sources":["../../src/effects/GodRays.tsx"],"sourcesContent":["import { GodRaysEffect } from 'postprocessing'\nimport React, { Ref, forwardRef, useMemo, useContext, useLayoutEffect } from 'react'\nimport { Mesh, Points } from 'three'\nimport { EffectComposerContext } from '../EffectComposer'\nimport { resolveRef } from '../util'\n\ntype GodRaysProps = ConstructorParameters<typeof GodRaysEffect>[2] & {\n  sun: Mesh | Points | React.MutableRefObject<Mesh | Points>\n}\n\nexport const GodRays = forwardRef(function GodRays(props: GodRaysProps, ref: Ref<GodRaysEffect>) {\n  const { camera } = useContext(EffectComposerContext)\n  const effect = useMemo(() => new GodRaysEffect(camera, resolveRef(props.sun), props), [camera, props])\n  // @ts-ignore v6.30.2 https://github.com/pmndrs/postprocessing/pull/470/commits/091ef6f9516ca02efa7576305afbecf1ce8323ae\n  useLayoutEffect(() => void (effect.lightSource = resolveRef(props.sun)), [effect, props.sun])\n  return <primitive ref={ref} object={effect} dispose={null} />\n})\n"],"names":["GodRays"],"mappings":";;;;;AAUO,MAAM,UAAU,WAAW,SAASA,SAAQ,OAAqB,KAAyB;AAC/F,QAAM,EAAE,OAAA,IAAW,WAAW,qBAAqB;AACnD,QAAM,SAAS,QAAQ,MAAM,IAAI,cAAc,QAAQ,WAAW,MAAM,GAAG,GAAG,KAAK,GAAG,CAAC,QAAQ,KAAK,CAAC;AAErG,kBAAgB,MAAM,MAAM,OAAO,cAAc,WAAW,MAAM,GAAG,IAAI,CAAC,QAAQ,MAAM,GAAG,CAAC;AAC5F,6BAAQ,aAAU,EAAA,KAAU,QAAQ,QAAQ,SAAS,KAAM,CAAA;AAC7D,CAAC;"}